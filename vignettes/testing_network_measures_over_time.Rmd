---
title: "Comparing network measures over time"
author: "Tyler R. Bonnell"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Comparing network measures over time}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r, warning=FALSE,message=FALSE}
library(netTS)
library(lubridate)
library(ggplot2)
library(igraph)
library(scales)
```


#Introduction

When choosing a network measure to compare over time, it is important  to think about how changes in data collection/effort might affect the measure. This is especially the case when using raw untransformed data. Using a transformation, such as the simple ratio index (SRI), can facilitate comparisons. However, when the interest is in modeling changes in the network on the untransformed scale, issues of sampling become more important. This vignette provides examples of some of the ways in which to test for the effects of sample size on the chosen network measure.

(IN PROGRESS)

#1) Not using simple ratio index


##Take a look at mean strength of the network varies

Define my functions
```{r}

mean_strength <- function (net) {
  md <- mean(strength(net))
    return(md)
}


```

Control for sampling effort: hours of observation
```{r}
net.time.noEffort <-graphTS(groomEvents, windowsize = days(60), windowshift = days(10), measureFun = mean_strength, effortFun=NULL, directed=TRUE)

net.time.yesEffort<-graphTS(groomEvents, windowsize = days(60), windowshift = days(10), measureFun = mean_strength, effortFun=effort.time, directed=TRUE)

g.no<-ggplot(net.time.noEffort, aes(x=windowstart, y=measure))+geom_line(color="blue")+geom_point(color="blue")+labs(y="Average strength") + theme_classic()+ scale_x_date(date_breaks = "2 month",labels = date_format("%m-%Y"))

g.yes<-ggplot(data=net.time.yesEffort, aes(x=windowstart, y=measure))+geom_line(color="blue")+geom_point(color="blue")+labs(y="Average strength / hours observed") + theme_classic()+ scale_x_date(date_breaks = "2 month",labels = date_format("%m-%Y"))


cowplot::plot_grid(g.no,g.yes,ncol=1)  

```



